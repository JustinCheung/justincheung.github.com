<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>JC's Box</title><link href="http://www.zscbb.com/" rel="alternate"></link><link href="http://www.zscbb.com/feeds/redis.atom.xml" rel="self"></link><id>http://www.zscbb.com/</id><updated>2015-06-23T00:00:00+08:00</updated><entry><title>redis cluster 集群 安装 配置 详解</title><link href="http://www.zscbb.com/posts/2015/06/redis-cluster-ji-qun-an-zhuang-pei-zhi-xiang-jie/" rel="alternate"></link><updated>2015-06-23T00:00:00+08:00</updated><author><name>JustinCheung</name></author><id>tag:www.zscbb.com,2015-06-23:posts/2015/06/redis-cluster-ji-qun-an-zhuang-pei-zhi-xiang-jie/</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[TOC]&lt;/span&gt;

                    &lt;span class="na"&gt;&amp;lt;div class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;entry&amp;quot;&amp;gt;&lt;/span&gt;

                    &lt;span class="err"&gt;Redis&lt;/span&gt; &lt;span class="err"&gt;集群是一个提供在多个Redis间节点间共享数据的程序集.redis3.0以前，只支持主从同步的，如果主的挂了，写入就成问题了。3.0出来后就可以很好帮我们解决这个问题。&lt;/span&gt;

                    &lt;span class="err"&gt;目前redis&lt;/span&gt; &lt;span class="err"&gt;3.0还不稳定，如果要用在生产环境中，要慎重。&lt;/span&gt;

                    &lt;span class="na"&gt;&amp;lt;span id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;more-1725&amp;quot;&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

                    &lt;span class="err"&gt;**一，redis服务器说明**&lt;/span&gt;

                    &lt;span class="na"&gt;&amp;lt;div class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&amp;gt;&lt;/span&gt;

                    &lt;span class="err"&gt;1.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;192.168.10.219&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;6379&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="err"&gt;2.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;192.168.10.219&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;6380&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="err"&gt;3.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;192.168.10.219&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;6381&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="err"&gt;4.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="err"&gt;5.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;192.168.10.220&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;6382&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="err"&gt;6.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;192.168.10.220&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;6383&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="na"&gt;7.  &amp;lt;span&amp;gt;192.168.10.220&amp;amp;nbsp;6384&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot; name=&amp;quot;code&amp;quot; style=&amp;quot;display: none;&amp;quot;&amp;gt;192.168.10.219 6379&lt;/span&gt;
&lt;span class="s"&gt;                    192.168.10.219 6380&lt;/span&gt;
&lt;span class="s"&gt;                    192.168.10.219 6381&lt;/span&gt;

                    &lt;span class="err"&gt;192.168.10.220&lt;/span&gt; &lt;span class="err"&gt;6382&lt;/span&gt;
                    &lt;span class="err"&gt;192.168.10.220&lt;/span&gt; &lt;span class="err"&gt;6383&lt;/span&gt;
                    &lt;span class="err"&gt;192.168.10.220&lt;/span&gt; &lt;span class="err"&gt;6384&amp;lt;/pre&amp;gt;&lt;/span&gt;

                    &lt;span class="na"&gt;&amp;lt;span style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: #800080;&amp;quot;&amp;gt;**要让集群正常运作至少需要三个主节点，不过在刚开始试用集群功能时， 强烈建议使用六个节点： 其中三个为主节点， 而其余三个则是各个主节点的从节点。所有用二台机器，开6个redis进程，模拟6台机器。**&amp;lt;/span&amp;gt;&lt;/span&gt;

                    &lt;span class="err"&gt;**二，安装ruby,rubygems**&lt;/span&gt;

                    &lt;span class="na"&gt;&amp;lt;div class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;bar&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;tools&amp;quot;&amp;gt;[查看](#)[复制](#)[打印](#)[?](#)&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    &lt;span class="err"&gt;1.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="c1"&gt;#&amp;amp;nbsp;yum&amp;amp;nbsp;-y&amp;amp;nbsp;install&amp;amp;nbsp;gcc&amp;amp;nbsp;openssl-devel&amp;amp;nbsp;libyaml-devel&amp;amp;nbsp;libffi-devel&amp;amp;nbsp;readline-devel&amp;amp;nbsp;zlib-devel&amp;amp;nbsp;gdbm-devel&amp;amp;nbsp;ncurses-devel&amp;amp;nbsp;gcc-c++&amp;amp;nbsp;automake&amp;amp;nbsp;autoconf&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="err"&gt;2.&lt;/span&gt;  &lt;span class="err"&gt;&amp;lt;span&amp;gt;&amp;amp;nbsp&lt;/span&gt;&lt;span class="c1"&gt;;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    &lt;span class="na"&gt;3.  &amp;lt;span&amp;gt;#&amp;amp;nbsp;yum&amp;amp;nbsp;-y&amp;amp;nbsp;install&amp;amp;nbsp;ruby&amp;amp;nbsp;rubygems&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;span class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&amp;gt;//安装ruby&amp;amp;nbsp;rubygems&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    4.  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    5.  &amp;lt;span&amp;gt;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;//换源&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    6.  &amp;lt;span&amp;gt;#&amp;amp;nbsp;gem&amp;amp;nbsp;source&amp;amp;nbsp;-l&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    7.  &amp;lt;span&amp;gt;#&amp;amp;nbsp;gem&amp;amp;nbsp;source&amp;amp;nbsp;--remove&amp;amp;nbsp;http:&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;//rubygems.org/&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    8.  &amp;lt;span&amp;gt;#&amp;amp;nbsp;gem&amp;amp;nbsp;sources&amp;amp;nbsp;-a&amp;amp;nbsp;http:&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;//ruby.taobao.org/&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    9.  &amp;lt;span&amp;gt;#&amp;amp;nbsp;gem&amp;amp;nbsp;source&amp;amp;nbsp;-l&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    10.  &amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    11.  &amp;lt;span&amp;gt;#&amp;amp;nbsp;gem&amp;amp;nbsp;install&amp;amp;nbsp;redis&amp;amp;nbsp;--version&amp;amp;nbsp;3.0.0&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;span class=&amp;quot;comment&amp;quot;&amp;gt;//安装gem_redis&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    12.  &amp;lt;span&amp;gt;Successfully&amp;amp;nbsp;installed&amp;amp;nbsp;redis-3.0.0&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    13.  &amp;lt;span&amp;gt;1&amp;amp;nbsp;gem&amp;amp;nbsp;installed&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    14.  &amp;lt;span&amp;gt;Installing&amp;amp;nbsp;ri&amp;amp;nbsp;documentation&amp;amp;nbsp;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;redis-3.0.0...&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="s"&gt;                    15.  &amp;lt;span&amp;gt;Installing&amp;amp;nbsp;RDoc&amp;amp;nbsp;documentation&amp;amp;nbsp;&amp;lt;span class=&amp;quot;keyword&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&amp;amp;nbsp;redis-3.0.0...&amp;amp;nbsp;&amp;amp;nbsp;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre class=&amp;quot;php&amp;quot; name=&amp;quot;code&amp;quot; style=&amp;quot;display: none;&amp;quot;&amp;gt;# yum -y install gcc openssl-devel libyaml-devel libffi-devel readline-devel zlib-devel gdbm-devel ncurses-devel gcc-c++ automake autoconf&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="yum-y-install-ruby-rubygems-ruby-rubygems"&gt;yum -y install ruby rubygems   //安装ruby rubygems&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;                    &lt;span class="c1"&gt;//换源&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="gem-source-l"&gt;gem source -l&lt;/h1&gt;
&lt;h1 id="gem-source-remove-httprubygemsorg"&gt;gem source --remove http://rubygems.org/&lt;/h1&gt;
&lt;h1 id="gem-sources-a-httprubytaobaoorg"&gt;gem sources -a http://ruby.taobao.org/&lt;/h1&gt;
&lt;h1 id="gem-source-l_1"&gt;gem source -l&lt;/h1&gt;
&lt;h1 id="gem-install-redis-version-300-gem_redis"&gt;gem install redis --version 3.0.0  //安装gem_redis&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;                    &lt;span class="nx"&gt;Successfully&lt;/span&gt; &lt;span class="nx"&gt;installed&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.0.0&lt;/span&gt;
                    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="nx"&gt;gem&lt;/span&gt; &lt;span class="nx"&gt;installed&lt;/span&gt;
                    &lt;span class="nx"&gt;Installing&lt;/span&gt; &lt;span class="nx"&gt;ri&lt;/span&gt; &lt;span class="nx"&gt;documentation&lt;/span&gt; &lt;span class="nb"&gt;for&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.0.0&lt;/span&gt;&lt;span class="nx"&gt;...&lt;/span&gt;
                    &lt;span class="nx"&gt;Installing&lt;/span&gt; &lt;span class="nx"&gt;RDoc&lt;/span&gt; &lt;span class="nx"&gt;documentation&lt;/span&gt; &lt;span class="nb"&gt;for&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.0.0&lt;/span&gt;&lt;span class="nx"&gt;...&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nx"&gt;pre&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

                    &lt;span class="nx"&gt;以前写过一篇ruby&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="nx"&gt;rails的文章&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="nx"&gt;请参考&lt;/span&gt;&lt;span class="err"&gt;：[&lt;/span&gt;&lt;span class="o"&gt;**&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;span&lt;/span&gt; &lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color: #800080;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="nx"&gt;centos&lt;/span&gt; &lt;span class="nx"&gt;ruby&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="nx"&gt;rails&lt;/span&gt; &lt;span class="nx"&gt;apache&lt;/span&gt; &lt;span class="nx"&gt;mysql&lt;/span&gt; &lt;span class="nx"&gt;安装配置详解&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nx"&gt;span&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;**&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(http://blog.51yip.com/server/1493.html &amp;quot;centos ruby on rails apache mysql 安装配置详解&amp;quot;)

                    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: #800080;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;**喜欢手动编译的人，可以参考这篇文章，安装ruby.**&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

                    **三，安装redis3.0.0**

                    ** **

                    **1，安装redis**

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;wget&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;http:&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//download.redis.io/releases/redis-3.0.0.tar.gz&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;tar&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-xvzf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-3.0.0.tar.gz&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cd&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-3.0.0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;make&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;amp;&amp;amp;nbsp;&lt;/span&gt;make&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;install&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cd&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;src&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-trib.rb&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/usr/local/bin&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    7.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    8.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;func&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;mkdir&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    9.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;func&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;mkdir&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# wget http://download.redis.io/releases/redis-3.0.0.tar.gz
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="tar-xvzf-redis-300targz"&gt;tar -xvzf redis-3.0.0.tar.gz&lt;/h1&gt;
&lt;h1 id="cd-redis-300"&gt;cd redis-3.0.0&lt;/h1&gt;
&lt;h1 id="make-make-install"&gt;make &amp;amp;&amp;amp; make install&lt;/h1&gt;
&lt;h1 id="cd-src"&gt;cd src&lt;/h1&gt;
&lt;h1 id="cp-redis-tribrb-usrlocalbin"&gt;cp redis-trib.rb /usr/local/bin&lt;/h1&gt;
&lt;h1 id="mkdir-etcredis"&gt;mkdir /etc/redis&lt;/h1&gt;
&lt;h1 id="mkdir-varlogredis"&gt;mkdir /var/log/redis&lt;/pre&gt;&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;                    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: #800080;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;**上述操作要先在二台机器上面都操作好。**&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

                    **2,配置redis**

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.0.0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;vim&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//解压的根目录，有redis.conf,做以下修改&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;port&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;pidfile&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/run/redis-6379.pid&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;dbfilename&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;dump-6379.rdb&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;appendfilename&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;appendonly-6379.aof&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;cluster-config-file&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes-6379.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    7.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;cluster-enabled&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;yes&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    8.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;cluster-node-timeout&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5000&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    9.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;appendonly&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;yes&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.0.0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#  vim redis.conf   //解压的根目录，有redis.conf,做以下修改
                    port 6379
                    pidfile /var/run/redis-6379.pid
                    dbfilename dump-6379.rdb
                    appendfilename &amp;quot;appendonly-6379.aof&amp;quot;
                    cluster-config-file nodes-6379.conf
                    cluster-enabled yes
                    cluster-node-timeout 5000
                    appendonly yes&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;

                    **3，copy配置文件，并修改端口**

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6379.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6381.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;scp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:/etc/redis/redis-6382.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;scp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:/etc/redis/redis-6383.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    7.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;scp&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:/etc/redis/redis-6384.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    8.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    9.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;sed&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-i&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;s/6379/6380/g&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    10.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;sed&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-i&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;s/6379/6381/g&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6381.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    11.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    12.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;sed&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-i&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;s/6379/6382/g&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6382.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    13.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;sed&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-i&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;s/6379/6383/g&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6383.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    14.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;sed&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-i&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;s/6379/6384/g&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6384.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# cp redis.conf /etc/redis/redis-6379.conf
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="cp-redisconf-etcredisredis-6380conf"&gt;cp redis.conf /etc/redis/redis-6380.conf&lt;/h1&gt;
&lt;h1 id="cp-redisconf-etcredisredis-6381conf"&gt;cp redis.conf /etc/redis/redis-6381.conf&lt;/h1&gt;
&lt;h1 id="scp-redisconf-19216810220etcredisredis-6382conf"&gt;scp redis.conf 192.168.10.220:/etc/redis/redis-6382.conf&lt;/h1&gt;
&lt;h1 id="scp-redisconf-19216810220etcredisredis-6383conf"&gt;scp redis.conf 192.168.10.220:/etc/redis/redis-6383.conf&lt;/h1&gt;
&lt;h1 id="scp-redisconf-19216810220etcredisredis-6384conf"&gt;scp redis.conf 192.168.10.220:/etc/redis/redis-6384.conf&lt;/h1&gt;
&lt;h1 id="sed-i-s63796380g-etcredisredis-6380conf"&gt;sed -i "s/6379/6380/g" /etc/redis/redis-6380.conf&lt;/h1&gt;
&lt;h1 id="sed-i-s63796381g-etcredisredis-6381conf"&gt;sed -i "s/6379/6381/g" /etc/redis/redis-6381.conf&lt;/h1&gt;
&lt;h1 id="sed-i-s63796382g-etcredisredis-6382conf"&gt;sed -i "s/6379/6382/g" /etc/redis/redis-6382.conf&lt;/h1&gt;
&lt;h1 id="sed-i-s63796383g-etcredisredis-6383conf"&gt;sed -i "s/6379/6383/g" /etc/redis/redis-6383.conf&lt;/h1&gt;
&lt;h1 id="sed-i-s63796384g-etcredisredis-6384conf"&gt;sed -i "s/6379/6384/g" /etc/redis/redis-6384.conf&lt;/pre&gt;&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;                    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: #800080;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;**将配置文件分别copy到二台机器上，并替换端口：**&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;cat&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;|awk&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;#39;{if($0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;!~&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/^$/&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;amp;&amp;amp;nbsp;&lt;/span&gt;$0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;!~&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/#/)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;{print&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;$0}}&amp;#39;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;|grep&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;pidfile&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/run/redis-6380.pid&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;port&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;dbfilename&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;dump-6380.rdb&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;appendfilename&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;appendonly-6380.aof&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;cluster-config-file&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# cat redis-6380.conf |awk &amp;#39;{if($0 !~ /^$/ &lt;span class="ni"&gt;&amp;amp;amp;&amp;amp;amp;&lt;/span&gt; $0 !~ /#/) {print $0}}&amp;#39; |grep 6380
                    pidfile /var/run/redis-6380.pid
                    port 6380
                    dbfilename dump-6380.rdb
                    appendfilename &amp;quot;appendonly-6380.aof&amp;quot;
                    cluster-config-file nodes-6380.conf&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;

                    &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;color: #800080;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;**有5处修改端口的地方**&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

                    **4，启动并查看redis**

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6379.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis/redis-6379.log&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis/redis-6380.log&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6381.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis/redis-6381.log&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6382.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis/redis-6382.log&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6383.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis/redis-6383.log&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    7.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/redis-6384.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;/&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;var&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;/log/redis/redis-6384.log&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;amp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    8.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    9.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;netstat&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-tpnl&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;|grep&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    10.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7298/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    11.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7299/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    12.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:6381&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7304/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    13.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:16379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7298/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    14.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:16380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7299/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    15.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:16381&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0.0.0:*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7304/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    16.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;:::6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;:::*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7298/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    17.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;:::6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;:::*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7299/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    18.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;:::6381&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;:::*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7304/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    19.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;:::16379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;:::*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7298/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    20.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;:::16380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;:::*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7299/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    21.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;tcp&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;:::16381&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;:::*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;LISTEN&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7304/redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    22.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    23.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;ll&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;/etc/redis/&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    24.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;总用量&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;156&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    25.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;4月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;30&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;23:54&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;appendonly-6379.aof&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    26.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;appendonly-6380.aof&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    27.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;appendonly-6381.aof&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    28.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;18&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;dump-6379.rdb&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    29.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;18&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;dump-6380.rdb&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    30.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;18&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;dump-6381.rdb&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    31.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;763&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes-6379.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    32.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;763&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    33.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;763&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;00:08&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes-6381.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    34.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;41412&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;4月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;30&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;23:30&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-6379.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    35.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;41412&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;4月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;30&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;23:39&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-6380.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    36.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-rw-r--r--&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;41412&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;4月&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;30&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;23:39&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-6381.conf&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# redis-server /etc/redis/redis-6379.conf &lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; /var/log/redis/redis-6379.log 2&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;amp;&lt;/span&gt;1 &lt;span class="ni"&gt;&amp;amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1 id="redis-server-etcredisredis-6380conf-varlogredisredis-6380log-21"&gt;redis-server /etc/redis/redis-6380.conf &amp;gt; /var/log/redis/redis-6380.log 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/h1&gt;
&lt;h1 id="redis-server-etcredisredis-6381conf-varlogredisredis-6381log-21"&gt;redis-server /etc/redis/redis-6381.conf &amp;gt; /var/log/redis/redis-6381.log 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/h1&gt;
&lt;h1 id="redis-server-etcredisredis-6382conf-varlogredisredis-6382log-21"&gt;redis-server /etc/redis/redis-6382.conf &amp;gt; /var/log/redis/redis-6382.log 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/h1&gt;
&lt;h1 id="redis-server-etcredisredis-6383conf-varlogredisredis-6383log-21"&gt;redis-server /etc/redis/redis-6383.conf &amp;gt; /var/log/redis/redis-6383.log 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/h1&gt;
&lt;h1 id="redis-server-etcredisredis-6384conf-varlogredisredis-6384log-21"&gt;redis-server /etc/redis/redis-6384.conf &amp;gt; /var/log/redis/redis-6384.log 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/h1&gt;
&lt;h1 id="netstat-tpnl-grep-redis"&gt;netstat -tpnl |grep redis&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6379&lt;/span&gt;                &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                   &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7298&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6380&lt;/span&gt;                &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                   &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7299&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6381&lt;/span&gt;                &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                   &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7304&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16379&lt;/span&gt;               &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                   &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7298&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16380&lt;/span&gt;               &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                   &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7299&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16381&lt;/span&gt;               &lt;span class="mf"&gt;0.0.0.0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                   &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7304&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="mi"&gt;6379&lt;/span&gt;                     &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                        &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7298&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="mi"&gt;6380&lt;/span&gt;                     &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                        &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7299&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="mi"&gt;6381&lt;/span&gt;                     &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                        &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7304&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="mi"&gt;16379&lt;/span&gt;                    &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                        &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7298&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="mi"&gt;16380&lt;/span&gt;                    &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                        &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7299&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
                    &lt;span class="nx"&gt;tcp&lt;/span&gt;        &lt;span class="mi"&gt;0&lt;/span&gt;      &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="mi"&gt;16381&lt;/span&gt;                    &lt;span class="p"&gt;:::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;                        &lt;span class="nb"&gt;LISTEN&lt;/span&gt;      &lt;span class="mi"&gt;7304&lt;/span&gt;&lt;span class="p"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="na"&gt;-server&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;

                    &lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# ll /etc/redis/
                    总用量 156
                    -rw-r--r-- 1 root root     0 4月  30 23:54 appendonly-6379.aof
                    -rw-r--r-- 1 root root     0 5月   1 00:08 appendonly-6380.aof
                    -rw-r--r-- 1 root root     0 5月   1 00:08 appendonly-6381.aof
                    -rw-r--r-- 1 root root    18 5月   1 00:08 dump-6379.rdb
                    -rw-r--r-- 1 root root    18 5月   1 00:08 dump-6380.rdb
                    -rw-r--r-- 1 root root    18 5月   1 00:08 dump-6381.rdb
                    -rw-r--r-- 1 root root   763 5月   1 00:08 nodes-6379.conf
                    -rw-r--r-- 1 root root   763 5月   1 00:08 nodes-6380.conf
                    -rw-r--r-- 1 root root   763 5月   1 00:08 nodes-6381.conf
                    -rw-r--r-- 1 root root 41412 4月  30 23:30 redis-6379.conf
                    -rw-r--r-- 1 root root 41412 4月  30 23:39 redis-6380.conf
                    -rw-r--r-- 1 root root 41412 4月  30 23:39 redis-6381.conf&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;

                    所有节点都启动成功，并不代表，他们就是集群了。

                    **四，创建集群，并查看**

                    ** **

                    **1，创建redis集群**

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-trib.rb&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;create&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;--replicas&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6380&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6381&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6382&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6383&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6384&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# redis-trib.rb create --replicas 1 192.168.10.219:6379 192.168.10.219:6380 192.168.10.219:6381 192.168.10.220:6382 192.168.10.220:6383 192.168.10.220:6384&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;

                    **2，查看redis集群状态**

                    &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

                    1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-trib.rb&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6384:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6381:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6383:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6382:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    7.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6380:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    8.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Performing&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;Cluster&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;Check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(using&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    9.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;M:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d40d9a367c24784b0336c7b80fb4c87337e2cba6&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    10.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:5461-10922&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(5462&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;master&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    11.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;additional&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replica(s)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    12.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;S:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5f00f163d0c0a540ea99daf004f55588a802327b&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6384&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    13.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slave&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    14.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replicates&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d40d9a367c24784b0336c7b80fb4c87337e2cba6&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    15.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;S:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;b3b1a848987b5a87a06888e126d5c9b16f871ff5&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6381&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    16.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slave&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    17.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replicates&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d2eb5a8a77f87888792428aed4692dfb907e7a1d&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    18.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;M:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d2eb5a8a77f87888792428aed4692dfb907e7a1d&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6383&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    19.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:10923-16383&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(5461&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;master&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    20.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;additional&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replica(s)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    21.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;M:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;a8eafe8b19d6a28c034917da13a43ce1230fe870&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6382&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    22.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:0-5460&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(5461&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;master&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    23.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;additional&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replica(s)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    24.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;S:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;a87d207204a53ab599bf7f6ffb9d679d0eef4f25&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    25.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slave&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    26.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replicates&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;a8eafe8b19d6a28c034917da13a43ce1230fe870&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    27.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;All&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;agree&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;about&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;configuration.&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    28.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;for&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;open&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots...&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    29.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;coverage...&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                    30.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;All&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;16384&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;covered.&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# redis-trib.rb check 192.168.10.219:6379
                    Connecting to node 192.168.10.219:6379: OK
                    Connecting to node 192.168.10.220:6384: OK
                    Connecting to node 192.168.10.219:6381: OK
                    Connecting to node 192.168.10.220:6383: OK
                    Connecting to node 192.168.10.220:6382: OK
                    Connecting to node 192.168.10.219:6380: OK
                    &lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt; Performing Cluster Check (using node 192.168.10.219:6379)
                    M: d40d9a367c24784b0336c7b80fb4c87337e2cba6 192.168.10.219:6379
                     slots:5461-10922 (5462 slots) master
                      1 additional replica(s)
S: 5f00f163d0c0a540ea99daf004f55588a802327b 192.168.10.220:6384
 slots: (0 slots) slave
  replicates d40d9a367c24784b0336c7b80fb4c87337e2cba6
  S: b3b1a848987b5a87a06888e126d5c9b16f871ff5 192.168.10.219:6381
   slots: (0 slots) slave
    replicates d2eb5a8a77f87888792428aed4692dfb907e7a1d
    M: d2eb5a8a77f87888792428aed4692dfb907e7a1d 192.168.10.220:6383
     slots:10923-16383 (5461 slots) master
      1 additional replica(s)
M: a8eafe8b19d6a28c034917da13a43ce1230fe870 192.168.10.220:6382
 slots:0-5460 (5461 slots) master
  1 additional replica(s)
S: a87d207204a53ab599bf7f6ffb9d679d0eef4f25 192.168.10.219:6380
 slots: (0 slots) slave
  replicates a8eafe8b19d6a28c034917da13a43ce1230fe870
  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; All nodes agree about slots configuration.
  &lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt; Check for open slots...
  &lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt; Check slots coverage...
  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; All 16384 slots covered.&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;

  到这儿，redis集群就配置成功了

  **五，测试redis集群**

  &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;dp-highlighter&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tools&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;查看&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;复制&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;打印&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(#)&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

  1.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-cli&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-c&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-p&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6379&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-h&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//在219登录&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  2.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;set&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;tank&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;tank1&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//设置测试值&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  3.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Redirected&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slot&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4407&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;located&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;at&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6382&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  4.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//直接转向到220&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6382端口，数据存到了220&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6382，不过有点奇怪&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  5.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;192.168.10.220:6382&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;get&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;tank&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//可以取到值&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  6.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;tank1&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  7.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  8.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;manage&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-cli&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-c&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-p&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6383&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-h&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//220机器，6383端口&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  9.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;192.168.10.220:6383&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;get&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;tank&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  10.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Redirected&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slot&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4407&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;located&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;at&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6382&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//直接转向220&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6382端口&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  11.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;tank1&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  12.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  13.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;manage&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;ps&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;aux&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;|grep&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//查看进程&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  14.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7310&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.2&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.9&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;137436&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;9724&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;pts/0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;Sl&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;Apr30&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0:09&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*:6382&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cluster&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  15.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7311&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.2&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.9&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;137436&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;9776&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;pts/0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;Sl&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;Apr30&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0:09&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*:6383&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cluster&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  16.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7316&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.2&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.9&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;137436&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;9944&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;pts/0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;Sl&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;Apr30&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0:10&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-server&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;*:6384&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cluster&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  17.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;root&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;7478&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0.0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;103256&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;812&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;pts/0&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;S+&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;00:56&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;0:00&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;grep&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  18.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  19.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;manage&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;kill&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-9&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;7310&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//关闭220&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6382端口，看数据会不会丢失&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  20.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  21.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-trib.rb&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//查看集群情况，任何接口都行&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  22.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  23.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6384:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  24.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6381:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  25.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6383:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  26.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;Connecting&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6380:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;OK&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  27.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Performing&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;Cluster&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;Check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(using&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;node&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  28.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;M:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d40d9a367c24784b0336c7b80fb4c87337e2cba6&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  29.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:5461-10922&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(5462&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;master&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  30.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;additional&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replica(s)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  31.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;S:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;5f00f163d0c0a540ea99daf004f55588a802327b&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6384&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  32.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slave&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  33.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replicates&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d40d9a367c24784b0336c7b80fb4c87337e2cba6&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  34.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;S:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;b3b1a848987b5a87a06888e126d5c9b16f871ff5&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6381&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  35.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slave&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  36.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replicates&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d2eb5a8a77f87888792428aed4692dfb907e7a1d&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  37.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;M:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;d2eb5a8a77f87888792428aed4692dfb907e7a1d&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.220:6383&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  38.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:10923-16383&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(5461&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;master&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  39.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;1&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;additional&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replica(s)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  40.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;M:&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;a87d207204a53ab599bf7f6ffb9d679d0eef4f25&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  41.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots:0-5460&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;(5461&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots)&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;master&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  42.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;0&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;additional&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;replica(s)&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  43.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;All&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;nodes&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;agree&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;about&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;configuration.&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  44.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;keyword&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;for&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;open&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots...&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  45.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Check&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;coverage...&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  46.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;All&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;16384&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slots&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;covered.&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//变成，三主二从了&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  47.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  48.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="nx"&gt;nbsp&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;#&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;redis-cli&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-c&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-p&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;6379&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;-h&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//219登录&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  49.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;get&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;tank&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  50.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&lt;/span&gt;-&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;nbsp;&lt;/span&gt;Redirected&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;to&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;slot&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4407&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;located&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;at&lt;span class="ni"&gt;&amp;amp;nbsp;&lt;/span&gt;192.168.10.219:6380&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;//数据被转到了6380节点了&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
  51.  &lt;span class="nt"&gt;&amp;lt;span&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&amp;quot;tank1&amp;quot;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class="ni"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;pre&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;php&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;code&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;display: none;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;# redis-cli -c -p 6379 -h 192.168.10.219   //在219登录
  192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; set tank tank1    //设置测试值
  -&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; Redirected to slot &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4407&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; located at 192.168.10.220:6382
  OK   //直接转向到220 6382端口，数据存到了220 6382，不过有点奇怪
  192.168.10.220:6382&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; get tank   //可以取到值
  &amp;quot;tank1&amp;quot;

  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;manage&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# redis-cli -c -p 6383 -h 192.168.10.220  //220机器，6383端口
  192.168.10.220:6383&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; get tank
  -&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; Redirected to slot &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4407&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; located at 192.168.10.220:6382  //直接转向220 6382端口
  &amp;quot;tank1&amp;quot;

  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;manage&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# ps aux |grep redis //查看进程
  root      7310  0.2  0.9 137436  9724 pts/0    Sl   Apr30   0:09 redis-server *:6382 &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cluster&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
  root      7311  0.2  0.9 137436  9776 pts/0    Sl   Apr30   0:09 redis-server *:6383 &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cluster&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
  root      7316  0.2  0.9 137436  9944 pts/0    Sl   Apr30   0:10 redis-server *:6384 &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;cluster&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
  root      7478  0.0  0.0 103256   812 pts/0    S+   00:56   0:00 grep redis

  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;manage&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# kill -9 7310  //关闭220 6382端口，看数据会不会丢失

  &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# redis-trib.rb check 192.168.10.219:6379  //查看集群情况，任何接口都行
  Connecting to node 192.168.10.219:6379: OK
  Connecting to node 192.168.10.220:6384: OK
  Connecting to node 192.168.10.219:6381: OK
  Connecting to node 192.168.10.220:6383: OK
  Connecting to node 192.168.10.219:6380: OK
  &lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt; Performing Cluster Check (using node 192.168.10.219:6379)
  M: d40d9a367c24784b0336c7b80fb4c87337e2cba6 192.168.10.219:6379
   slots:5461-10922 (5462 slots) master
    1 additional replica(s)
S: 5f00f163d0c0a540ea99daf004f55588a802327b 192.168.10.220:6384
 slots: (0 slots) slave
  replicates d40d9a367c24784b0336c7b80fb4c87337e2cba6
  S: b3b1a848987b5a87a06888e126d5c9b16f871ff5 192.168.10.219:6381
   slots: (0 slots) slave
    replicates d2eb5a8a77f87888792428aed4692dfb907e7a1d
    M: d2eb5a8a77f87888792428aed4692dfb907e7a1d 192.168.10.220:6383
     slots:10923-16383 (5461 slots) master
      1 additional replica(s)
M: a87d207204a53ab599bf7f6ffb9d679d0eef4f25 192.168.10.219:6380
 slots:0-5460 (5461 slots) master
  0 additional replica(s)
&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; All nodes agree about slots configuration.
&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt; Check for open slots...
&lt;span class="ni"&gt;&amp;amp;gt;&amp;amp;gt;&amp;amp;gt;&lt;/span&gt; Check slots coverage...
&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;OK&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; All 16384 slots covered.  //变成，三主二从了

&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;root&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;slave2&lt;/span&gt; &lt;span class="nx"&gt;redis&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;# redis-cli -c -p 6379 -h 192.168.10.219    //219登录
192.168.10.219:6379&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; get tank
-&lt;span class="ni"&gt;&amp;amp;gt;&lt;/span&gt; Redirected to slot &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4407&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; located at 192.168.10.219:6380   //数据被转到了6380节点了
&amp;quot;tank1&amp;quot;&lt;span class="nt"&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;

经测试，集群是可用的。

            &lt;span class="c"&gt;&amp;lt;!-- Baidu Button BEGIN --&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bdshare&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bdshare_t bds_tools_32 get-codes-bdshare&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;style=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;float:right;margin-right:15px;&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
                                    &lt;span class="cp"&gt;[]&lt;/span&gt;(# &amp;quot;分享到QQ空间&amp;quot;)
                                                &lt;span class="cp"&gt;[]&lt;/span&gt;(# &amp;quot;分享到新浪微博&amp;quot;)
                                                            &lt;span class="cp"&gt;[]&lt;/span&gt;(# &amp;quot;分享到腾讯微博&amp;quot;)
                                                                        &lt;span class="cp"&gt;[]&lt;/span&gt;(# &amp;quot;分享到人人网&amp;quot;)
                                                                                    &lt;span class="cp"&gt;[]&lt;/span&gt;(# &amp;quot;分享到网易微博&amp;quot;)
                                                                                                &lt;span class="nt"&gt;&amp;lt;span&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bds_more&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                                                                                                            &lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;(# &amp;quot;累计分享0次&amp;quot;)
                                                                                                                        &lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
                                                                                                                                    &lt;span class="nt"&gt;&amp;lt;script &lt;/span&gt;&lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;bdshare_js&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;data=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;type=tools&amp;amp;amp;uid=4016707&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://bdimg.share.baidu.com/static/js/bds_s_v2.js?cdnversion=398842&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;

                                                                                                                                                &lt;span class="nt"&gt;&amp;lt;script &lt;/span&gt;&lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
                                                                                                                                                            &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getElementById&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bdshell_js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;src&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;Math&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ceil&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Date&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;3600000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                                                                                                                                                                        &lt;span class="nt"&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
                                                                                                                                                                                    &lt;span class="c"&gt;&amp;lt;!-- Baidu Button END --&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;script type= "text/javascript"&gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&lt;/script&gt;
</summary><category term="Web"></category><category term="redis"></category><category term="Writting"></category></entry></feed>