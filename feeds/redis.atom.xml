<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>JC's Box</title><link href="http://www.zscbb.com/" rel="alternate"></link><link href="http://www.zscbb.com/feeds/redis.atom.xml" rel="self"></link><id>http://www.zscbb.com/</id><updated>2015-06-23T00:00:00+08:00</updated><entry><title>redis cluster 集群 安装 配置 详解</title><link href="http://www.zscbb.com/posts/2015/06/redis-cluster-ji-qun-an-zhuang-pei-zhi-xiang-jie/" rel="alternate"></link><updated>2015-06-23T00:00:00+08:00</updated><author><name>JustinCheung</name></author><id>tag:www.zscbb.com,2015-06-23:posts/2015/06/redis-cluster-ji-qun-an-zhuang-pei-zhi-xiang-jie/</id><summary type="html">&lt;p&gt;[TOC]
Redis 集群是一个提供在多个Redis间节点间共享数据的程序集.redis3.0以前，只支持主从同步的，如果主的挂了，写入就成问题了。3.0出来后就可以很好帮我们解决这个问题。&lt;/p&gt;
&lt;p&gt;目前redis 3.0还不稳定，如果要用在生产环境中，要慎重。&lt;/p&gt;
&lt;h1 id="redis"&gt;一，redis服务器说明&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;192.168.10.219&amp;nbsp;6379&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.219&amp;nbsp;6380&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.219&amp;nbsp;6381&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.220&amp;nbsp;6382&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.220&amp;nbsp;6383&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.220&amp;nbsp;6384&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span style="color: #800080;"&gt;&lt;strong&gt;要让集群正常运作至少需要三个主节点，不过在刚开始试用集群功能时， 强烈建议使用六个节点： 其中三个为主节点， 而其余三个则是各个主节点的从节点。所有用二台机器，开6个redis进程，模拟6台机器。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h1 id="rubyrubygems"&gt;二，安装ruby,rubygems&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;yum&amp;nbsp;-y&amp;nbsp;install&amp;nbsp;gcc&amp;nbsp;openssl-devel&amp;nbsp;libyaml-devel&amp;nbsp;libffi-devel&amp;nbsp;readline-devel&amp;nbsp;zlib-devel&amp;nbsp;gdbm-devel&amp;nbsp;ncurses-devel&amp;nbsp;gcc-c++&amp;nbsp;automake&amp;nbsp;autoconf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;yum&amp;nbsp;-y&amp;nbsp;install&amp;nbsp;ruby&amp;nbsp;rubygems&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//安装ruby&amp;nbsp;rubygems&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&lt;span class="comment"&gt;//换源&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;gem&amp;nbsp;source&amp;nbsp;-l&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;gem&amp;nbsp;source&amp;nbsp;--remove&amp;nbsp;http:&lt;span class="comment"&gt;//rubygems.org/&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;gem&amp;nbsp;sources&amp;nbsp;-a&amp;nbsp;http:&lt;span class="comment"&gt;//ruby.taobao.org/&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;gem&amp;nbsp;source&amp;nbsp;-l&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;gem&amp;nbsp;install&amp;nbsp;redis&amp;nbsp;--version&amp;nbsp;3.0.0&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//安装gem_redis&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Successfully&amp;nbsp;installed&amp;nbsp;redis-3.0.0&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;1&amp;nbsp;gem&amp;nbsp;installed&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Installing&amp;nbsp;ri&amp;nbsp;documentation&amp;nbsp;&lt;span class="keyword"&gt;for&lt;/span&gt;&lt;span&gt;&amp;nbsp;redis-3.0.0...&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Installing&amp;nbsp;RDoc&amp;nbsp;documentation&amp;nbsp;&lt;span class="keyword"&gt;for&lt;/span&gt;&lt;span&gt;&amp;nbsp;redis-3.0.0...&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="redis300"&gt;三，安装redis3.0.0&lt;/h1&gt;
&lt;h2 id="1redis"&gt;1，安装redis&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;wget&amp;nbsp;http:&lt;/span&gt;&lt;span class="comment"&gt;//download.redis.io/releases/redis-3.0.0.tar.gz&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;tar&amp;nbsp;-xvzf&amp;nbsp;redis-3.0.0.tar.gz&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;cd&amp;nbsp;redis-3.0.0&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;make&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;make&amp;nbsp;install&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;cd&amp;nbsp;src&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;cp&amp;nbsp;redis-trib.rb&amp;nbsp;/usr/local/bin&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;&lt;span class="func"&gt;mkdir&lt;/span&gt;&lt;span&gt;&amp;nbsp;/etc/redis&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;&lt;span class="func"&gt;mkdir&lt;/span&gt;&lt;span&gt;&amp;nbsp;/&lt;/span&gt;&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span style="color: #800080;"&gt;&lt;strong&gt;上述操作要先在二台机器上面都操作好。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id="2redis"&gt;2,配置redis&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;[root@slave2&amp;nbsp;redis-3.0.0]#&amp;nbsp;&amp;nbsp;vim&amp;nbsp;redis.conf&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="comment"&gt;//解压的根目录，有redis.conf,做以下修改&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;port&amp;nbsp;6379&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;pidfile&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/run/redis-6379.pid&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;dbfilename&amp;nbsp;dump-6379.rdb&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;appendfilename&amp;nbsp;&lt;span class="string"&gt;"appendonly-6379.aof"&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;cluster-config-file&amp;nbsp;nodes-6379.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;cluster-enabled&amp;nbsp;yes&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;cluster-node-timeout&amp;nbsp;5000&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;appendonly&amp;nbsp;yes&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="3copy"&gt;3，copy配置文件，并修改端口&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;cp&amp;nbsp;redis.conf&amp;nbsp;/etc/redis/redis-6379.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;cp&amp;nbsp;redis.conf&amp;nbsp;/etc/redis/redis-6380.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;cp&amp;nbsp;redis.conf&amp;nbsp;/etc/redis/redis-6381.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;scp&amp;nbsp;redis.conf&amp;nbsp;192.168.10.220:/etc/redis/redis-6382.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;scp&amp;nbsp;redis.conf&amp;nbsp;192.168.10.220:/etc/redis/redis-6383.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;scp&amp;nbsp;redis.conf&amp;nbsp;192.168.10.220:/etc/redis/redis-6384.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;sed&amp;nbsp;-i&amp;nbsp;&lt;span class="string"&gt;"s/6379/6380/g"&lt;/span&gt;&lt;span&gt;&amp;nbsp;/etc/redis/redis-6380.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;sed&amp;nbsp;-i&amp;nbsp;&lt;span class="string"&gt;"s/6379/6381/g"&lt;/span&gt;&lt;span&gt;&amp;nbsp;/etc/redis/redis-6381.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;sed&amp;nbsp;-i&amp;nbsp;&lt;span class="string"&gt;"s/6379/6382/g"&lt;/span&gt;&lt;span&gt;&amp;nbsp;/etc/redis/redis-6382.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;sed&amp;nbsp;-i&amp;nbsp;&lt;span class="string"&gt;"s/6379/6383/g"&lt;/span&gt;&lt;span&gt;&amp;nbsp;/etc/redis/redis-6383.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;sed&amp;nbsp;-i&amp;nbsp;&lt;span class="string"&gt;"s/6379/6384/g"&lt;/span&gt;&lt;span&gt;&amp;nbsp;/etc/redis/redis-6384.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span style="color: #800080;"&gt;&lt;strong&gt;将配置文件分别copy到二台机器上，并替换端口：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;cat&amp;nbsp;redis-6380.conf&amp;nbsp;|awk&amp;nbsp;&lt;/span&gt;&lt;span class="string"&gt;'{if($0&amp;nbsp;!~&amp;nbsp;/^$/&amp;nbsp;&amp;amp;&amp;amp;&amp;nbsp;$0&amp;nbsp;!~&amp;nbsp;/#/)&amp;nbsp;{print&amp;nbsp;$0}}'&lt;/span&gt;&lt;span&gt;&amp;nbsp;|grep&amp;nbsp;6380&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;pidfile&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/run/redis-6380.pid&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;port&amp;nbsp;6380&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;dbfilename&amp;nbsp;dump-6380.rdb&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;appendfilename&amp;nbsp;&lt;span class="string"&gt;"appendonly-6380.aof"&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;cluster-config-file&amp;nbsp;nodes-6380.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span style="color: #800080;"&gt;&lt;strong&gt;有5处修改端口的地方&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id="4redis"&gt;4，启动并查看redis&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;redis-server&amp;nbsp;/etc/redis/redis-6379.conf&amp;nbsp;&amp;gt;&amp;nbsp;/&lt;/span&gt;&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis/redis-6379.log&amp;nbsp;2&amp;gt;&amp;amp;1&amp;nbsp;&amp;amp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;redis-server&amp;nbsp;/etc/redis/redis-6380.conf&amp;nbsp;&amp;gt;&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis/redis-6380.log&amp;nbsp;2&amp;gt;&amp;amp;1&amp;nbsp;&amp;amp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;redis-server&amp;nbsp;/etc/redis/redis-6381.conf&amp;nbsp;&amp;gt;&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis/redis-6381.log&amp;nbsp;2&amp;gt;&amp;amp;1&amp;nbsp;&amp;amp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;redis-server&amp;nbsp;/etc/redis/redis-6382.conf&amp;nbsp;&amp;gt;&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis/redis-6382.log&amp;nbsp;2&amp;gt;&amp;amp;1&amp;nbsp;&amp;amp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;redis-server&amp;nbsp;/etc/redis/redis-6383.conf&amp;nbsp;&amp;gt;&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis/redis-6383.log&amp;nbsp;2&amp;gt;&amp;amp;1&amp;nbsp;&amp;amp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;redis-server&amp;nbsp;/etc/redis/redis-6384.conf&amp;nbsp;&amp;gt;&amp;nbsp;/&lt;span class="keyword"&gt;var&lt;/span&gt;&lt;span&gt;/log/redis/redis-6384.log&amp;nbsp;2&amp;gt;&amp;amp;1&amp;nbsp;&amp;amp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;#&amp;nbsp;netstat&amp;nbsp;-tpnl&amp;nbsp;|grep&amp;nbsp;redis&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;0.0.0.0:6379&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0.0.0.0:&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7298/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;0.0.0.0:6380&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0.0.0.0:&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7299/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;0.0.0.0:6381&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0.0.0.0:&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7304/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;0.0.0.0:16379&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0.0.0.0:&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7298/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;0.0.0.0:16380&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0.0.0.0:&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7299/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;0.0.0.0:16381&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0.0.0.0:&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7304/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;:::6379&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:::&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7298/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;:::6380&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:::&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7299/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;:::6381&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:::&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7304/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;:::16379&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:::&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7298/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;:::16380&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:::&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7299/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;tcp&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;:::16381&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:::&lt;em&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;LISTEN&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7304/redis-server&amp;nbsp;&lt;/em&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[root@slave2&amp;nbsp;redis]#&amp;nbsp;ll&amp;nbsp;/etc/redis/&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;总用量&amp;nbsp;156&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;4月&amp;nbsp;&amp;nbsp;30&amp;nbsp;23:54&amp;nbsp;appendonly-6379.aof&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;appendonly-6380.aof&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;appendonly-6381.aof&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;18&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;dump-6379.rdb&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;18&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;dump-6380.rdb&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;18&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;dump-6381.rdb&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;763&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;nodes-6379.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;763&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;nodes-6380.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;763&amp;nbsp;5月&amp;nbsp;&amp;nbsp;&amp;nbsp;1&amp;nbsp;00:08&amp;nbsp;nodes-6381.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;41412&amp;nbsp;4月&amp;nbsp;&amp;nbsp;30&amp;nbsp;23:30&amp;nbsp;redis-6379.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;41412&amp;nbsp;4月&amp;nbsp;&amp;nbsp;30&amp;nbsp;23:39&amp;nbsp;redis-6380.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-rw-r--r--&amp;nbsp;1&amp;nbsp;root&amp;nbsp;root&amp;nbsp;41412&amp;nbsp;4月&amp;nbsp;&amp;nbsp;30&amp;nbsp;23:39&amp;nbsp;redis-6381.conf&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;所有节点都启动成功，并不代表，他们就是集群了。&lt;/p&gt;
&lt;h1 id="_1"&gt;四，创建集群，并查看&lt;/h1&gt;
&lt;h2 id="1redis_1"&gt;1，创建redis集群&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;redis-trib.rb&amp;nbsp;create&amp;nbsp;--replicas&amp;nbsp;1&amp;nbsp;192.168.10.219:6379&amp;nbsp;192.168.10.219:6380&amp;nbsp;192.168.10.219:6381&amp;nbsp;192.168.10.220:6382&amp;nbsp;192.168.10.220:6383&amp;nbsp;192.168.10.220:6384&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;pre class="php" name="code" style="display: none;"&gt;# redis-trib.rb create --replicas 1 192.168.10.219:6379 192.168.10.219:6380 192.168.10.219:6381 192.168.10.220:6382 192.168.10.220:6383 192.168.10.220:6384&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="2redis_1"&gt;2，查看redis集群状态&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;[root@slave2&amp;nbsp;redis]#&amp;nbsp;redis-trib.rb&amp;nbsp;check&amp;nbsp;192.168.10.219:6379&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.219:6379:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.220:6384:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.219:6381:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.220:6383:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.220:6382:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.219:6380:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;Performing&amp;nbsp;Cluster&amp;nbsp;Check&amp;nbsp;(using&amp;nbsp;node&amp;nbsp;192.168.10.219:6379)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;M:&amp;nbsp;d40d9a367c24784b0336c7b80fb4c87337e2cba6&amp;nbsp;192.168.10.219:6379&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:5461-10922&amp;nbsp;(5462&amp;nbsp;slots)&amp;nbsp;master&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;1&amp;nbsp;additional&amp;nbsp;replica(s)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;S:&amp;nbsp;5f00f163d0c0a540ea99daf004f55588a802327b&amp;nbsp;192.168.10.220:6384&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:&amp;nbsp;(0&amp;nbsp;slots)&amp;nbsp;slave&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;replicates&amp;nbsp;d40d9a367c24784b0336c7b80fb4c87337e2cba6&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;S:&amp;nbsp;b3b1a848987b5a87a06888e126d5c9b16f871ff5&amp;nbsp;192.168.10.219:6381&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:&amp;nbsp;(0&amp;nbsp;slots)&amp;nbsp;slave&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;replicates&amp;nbsp;d2eb5a8a77f87888792428aed4692dfb907e7a1d&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;M:&amp;nbsp;d2eb5a8a77f87888792428aed4692dfb907e7a1d&amp;nbsp;192.168.10.220:6383&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:10923-16383&amp;nbsp;(5461&amp;nbsp;slots)&amp;nbsp;master&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;1&amp;nbsp;additional&amp;nbsp;replica(s)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;M:&amp;nbsp;a8eafe8b19d6a28c034917da13a43ce1230fe870&amp;nbsp;192.168.10.220:6382&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:0-5460&amp;nbsp;(5461&amp;nbsp;slots)&amp;nbsp;master&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;1&amp;nbsp;additional&amp;nbsp;replica(s)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;S:&amp;nbsp;a87d207204a53ab599bf7f6ffb9d679d0eef4f25&amp;nbsp;192.168.10.219:6380&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:&amp;nbsp;(0&amp;nbsp;slots)&amp;nbsp;slave&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;replicates&amp;nbsp;a8eafe8b19d6a28c034917da13a43ce1230fe870&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[OK]&amp;nbsp;All&amp;nbsp;nodes&amp;nbsp;agree&amp;nbsp;about&amp;nbsp;slots&amp;nbsp;configuration.&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;Check&amp;nbsp;&lt;span class="keyword"&gt;for&lt;/span&gt;&lt;span&gt;&amp;nbsp;open&amp;nbsp;slots...&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;Check&amp;nbsp;slots&amp;nbsp;coverage...&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[OK]&amp;nbsp;All&amp;nbsp;16384&amp;nbsp;slots&amp;nbsp;covered.&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;到这儿，redis集群就配置成功了&lt;/p&gt;
&lt;h1 id="redis_1"&gt;五，测试redis集群&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;span&gt;&lt;span&gt;#&amp;nbsp;redis-cli&amp;nbsp;-c&amp;nbsp;-p&amp;nbsp;6379&amp;nbsp;-h&amp;nbsp;192.168.10.219&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span class="comment"&gt;//在219登录&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.219:6379&amp;gt;&amp;nbsp;set&amp;nbsp;tank&amp;nbsp;tank1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//设置测试值&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-&amp;gt;&amp;nbsp;Redirected&amp;nbsp;to&amp;nbsp;slot&amp;nbsp;[4407]&amp;nbsp;located&amp;nbsp;at&amp;nbsp;192.168.10.220:6382&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;OK&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//直接转向到220&amp;nbsp;6382端口，数据存到了220&amp;nbsp;6382，不过有点奇怪&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.220:6382&amp;gt;&amp;nbsp;get&amp;nbsp;tank&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//可以取到值&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&lt;span class="string"&gt;"tank1"&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[root@manage&amp;nbsp;redis]#&amp;nbsp;redis-cli&amp;nbsp;-c&amp;nbsp;-p&amp;nbsp;6383&amp;nbsp;-h&amp;nbsp;192.168.10.220&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//220机器，6383端口&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.220:6383&amp;gt;&amp;nbsp;get&amp;nbsp;tank&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-&amp;gt;&amp;nbsp;Redirected&amp;nbsp;to&amp;nbsp;slot&amp;nbsp;[4407]&amp;nbsp;located&amp;nbsp;at&amp;nbsp;192.168.10.220:6382&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//直接转向220&amp;nbsp;6382端口&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&lt;span class="string"&gt;"tank1"&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[root@manage&amp;nbsp;redis]#&amp;nbsp;ps&amp;nbsp;aux&amp;nbsp;|grep&amp;nbsp;redis&amp;nbsp;&lt;span class="comment"&gt;//查看进程&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7310&amp;nbsp;&amp;nbsp;0.2&amp;nbsp;&amp;nbsp;0.9&amp;nbsp;137436&amp;nbsp;&amp;nbsp;9724&amp;nbsp;pts/0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sl&amp;nbsp;&amp;nbsp;&amp;nbsp;Apr30&amp;nbsp;&amp;nbsp;&amp;nbsp;0:09&amp;nbsp;redis-server&amp;nbsp;*:6382&amp;nbsp;[cluster]&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7311&amp;nbsp;&amp;nbsp;0.2&amp;nbsp;&amp;nbsp;0.9&amp;nbsp;137436&amp;nbsp;&amp;nbsp;9776&amp;nbsp;pts/0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sl&amp;nbsp;&amp;nbsp;&amp;nbsp;Apr30&amp;nbsp;&amp;nbsp;&amp;nbsp;0:09&amp;nbsp;redis-server&amp;nbsp;*:6383&amp;nbsp;[cluster]&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7316&amp;nbsp;&amp;nbsp;0.2&amp;nbsp;&amp;nbsp;0.9&amp;nbsp;137436&amp;nbsp;&amp;nbsp;9944&amp;nbsp;pts/0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Sl&amp;nbsp;&amp;nbsp;&amp;nbsp;Apr30&amp;nbsp;&amp;nbsp;&amp;nbsp;0:10&amp;nbsp;redis-server&amp;nbsp;*:6384&amp;nbsp;[cluster]&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;7478&amp;nbsp;&amp;nbsp;0.0&amp;nbsp;&amp;nbsp;0.0&amp;nbsp;103256&amp;nbsp;&amp;nbsp;&amp;nbsp;812&amp;nbsp;pts/0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;S+&amp;nbsp;&amp;nbsp;&amp;nbsp;00:56&amp;nbsp;&amp;nbsp;&amp;nbsp;0:00&amp;nbsp;grep&amp;nbsp;redis&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[root@manage&amp;nbsp;redis]#&amp;nbsp;kill&amp;nbsp;-9&amp;nbsp;7310&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//关闭220&amp;nbsp;6382端口，看数据会不会丢失&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[root@slave2&amp;nbsp;redis]#&amp;nbsp;redis-trib.rb&amp;nbsp;check&amp;nbsp;192.168.10.219:6379&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//查看集群情况，任何接口都行&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.219:6379:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.220:6384:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.219:6381:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.220:6383:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;Connecting&amp;nbsp;to&amp;nbsp;node&amp;nbsp;192.168.10.219:6380:&amp;nbsp;OK&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;Performing&amp;nbsp;Cluster&amp;nbsp;Check&amp;nbsp;(using&amp;nbsp;node&amp;nbsp;192.168.10.219:6379)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;M:&amp;nbsp;d40d9a367c24784b0336c7b80fb4c87337e2cba6&amp;nbsp;192.168.10.219:6379&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:5461-10922&amp;nbsp;(5462&amp;nbsp;slots)&amp;nbsp;master&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;1&amp;nbsp;additional&amp;nbsp;replica(s)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;S:&amp;nbsp;5f00f163d0c0a540ea99daf004f55588a802327b&amp;nbsp;192.168.10.220:6384&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:&amp;nbsp;(0&amp;nbsp;slots)&amp;nbsp;slave&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;replicates&amp;nbsp;d40d9a367c24784b0336c7b80fb4c87337e2cba6&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;S:&amp;nbsp;b3b1a848987b5a87a06888e126d5c9b16f871ff5&amp;nbsp;192.168.10.219:6381&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:&amp;nbsp;(0&amp;nbsp;slots)&amp;nbsp;slave&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;replicates&amp;nbsp;d2eb5a8a77f87888792428aed4692dfb907e7a1d&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;M:&amp;nbsp;d2eb5a8a77f87888792428aed4692dfb907e7a1d&amp;nbsp;192.168.10.220:6383&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:10923-16383&amp;nbsp;(5461&amp;nbsp;slots)&amp;nbsp;master&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;1&amp;nbsp;additional&amp;nbsp;replica(s)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;M:&amp;nbsp;a87d207204a53ab599bf7f6ffb9d679d0eef4f25&amp;nbsp;192.168.10.219:6380&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;slots:0-5460&amp;nbsp;(5461&amp;nbsp;slots)&amp;nbsp;master&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;0&amp;nbsp;additional&amp;nbsp;replica(s)&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[OK]&amp;nbsp;All&amp;nbsp;nodes&amp;nbsp;agree&amp;nbsp;about&amp;nbsp;slots&amp;nbsp;configuration.&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;Check&amp;nbsp;&lt;span class="keyword"&gt;for&lt;/span&gt;&lt;span&gt;&amp;nbsp;open&amp;nbsp;slots...&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;nbsp;Check&amp;nbsp;slots&amp;nbsp;coverage...&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[OK]&amp;nbsp;All&amp;nbsp;16384&amp;nbsp;slots&amp;nbsp;covered.&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//变成，三主二从了&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;[root@slave2&amp;nbsp;redis]#&amp;nbsp;redis-cli&amp;nbsp;-c&amp;nbsp;-p&amp;nbsp;6379&amp;nbsp;-h&amp;nbsp;192.168.10.219&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//219登录&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;192.168.10.219:6379&amp;gt;&amp;nbsp;get&amp;nbsp;tank&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;-&amp;gt;&amp;nbsp;Redirected&amp;nbsp;to&amp;nbsp;slot&amp;nbsp;[4407]&amp;nbsp;located&amp;nbsp;at&amp;nbsp;192.168.10.219:6380&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span class="comment"&gt;//数据被转到了6380节点了&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&lt;span class="string"&gt;"tank1"&lt;/span&gt;&lt;span&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;经测试，集群是可用的。&lt;/p&gt;&lt;script type= "text/javascript"&gt;
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
&lt;/script&gt;
</summary><category term="Web"></category><category term="redis"></category><category term="Writting"></category></entry></feed>